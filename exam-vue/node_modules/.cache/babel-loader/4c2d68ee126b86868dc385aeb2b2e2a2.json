{"remainingRequest":"D:\\code\\exam_system\\exam-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\exam_system\\exam-vue\\src\\components\\MarkManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\exam_system\\exam-vue\\src\\components\\MarkManage.vue","mtime":1648014851567},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovY29kZS9leGFtX3N5c3RlbS9leGFtLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFya01hbmFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgLy/ogIPor5XorrDlvZUKICAgICAgZXhhbVJlY29yZHM6IFtdLAogICAgICAvL+ihqOagvOaVsOaNruWKoOi9vQogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvL+aJgOacieiAg+ivleS/oeaBrwogICAgICBhbGxFeGFtSW5mbzogW10sCiAgICAgIC8v5oC75pWwCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RXhhbVJlY29yZHMoKTsKICAgIHRoaXMuZ2V0QWxsRXhhbUluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEV4YW1SZWNvcmRzOiBmdW5jdGlvbiBnZXRFeGFtUmVjb3JkcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KF90aGlzLkFQSS5nZXRFeGFtUmVjb3JkLCB7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX3RoaXMucXVlcnlJbmZvCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0QWxsRXhhbUluZm8oKTsKCiAgICAgICAgICAgICAgICAgICAgcmVzcC5kYXRhLmRhdGEuZXhhbVJlY29yZHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGh0dHAuZ2V0KF90aGlzLkFQSS5nZXRVc2VyQnlJZCArICcvJyArIGl0ZW0udXNlcklkKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udHJ1ZU5hbWUgPSByLmRhdGEuZGF0YS50cnVlTmFtZTsKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzLmV4YW1SZWNvcmRzID0gcmVzcC5kYXRhLmRhdGEuZXhhbVJlY29yZHM7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSByZXNwLmRhdGEuZGF0YS50b3RhbDsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QWxsRXhhbUluZm86IGZ1bmN0aW9uIGdldEFsbEV4YW1JbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMuQVBJLmFsbEV4YW1JbmZvKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzMi5hbGxFeGFtSW5mbyA9IHJlc3AuZGF0YS5kYXRhOwoKICAgICAgICAgIF90aGlzMi5zZXRFeGFtTmFtZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb3BlcmF0aW9uOiBmdW5jdGlvbiBvcGVyYXRpb24odikgewogICAgICBpZiAodiA9PT0gJycpIHRoaXMucXVlcnlJbmZvLmV4YW1JZCA9IG51bGw7CiAgICAgIHRoaXMuZ2V0RXhhbVJlY29yZHMoKTsKICAgIH0sCiAgICBzZXRFeGFtTmFtZTogZnVuY3Rpb24gc2V0RXhhbU5hbWUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5leGFtUmVjb3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMzLmFsbEV4YW1JbmZvLmZvckVhY2goZnVuY3Rpb24gKGkyKSB7CiAgICAgICAgICBpZiAoaXRlbS5leGFtSWQgPT09IGkyLmV4YW1JZCkgewogICAgICAgICAgICBfdGhpczMuJHNldChpdGVtLCAnZXhhbU5hbWUnLCBpMi5leGFtTmFtZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5YiG6aG16aG16Z2i5aSn5bCP5pS55Y+YCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlU2l6ZSA9IHZhbDsKICAgICAgdGhpcy5nZXRFeGFtUmVjb3JkcygpOwogICAgfSwKICAgIC8v5YiG6aG15o+S5Lu255qE6aG15pWwCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTm8gPSB2YWw7CiAgICAgIHRoaXMuZ2V0RXhhbVJlY29yZHMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MarkManage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header>\r\n      <!--操作的下拉框-->\r\n      <el-select @change=\"operation\" clearable v-model=\"queryInfo.examId\"\r\n                 placeholder=\"请选择考试\" style=\"margin-bottom: 25px;\">\r\n        <el-option v-for=\"(item,index) in allExamInfo\" :key=\"index\" :label=\"item.examName\" :value=\"parseInt(item.examId)\">\r\n          <span style=\"float: left\">{{ item.examName }}</span>\r\n        </el-option>\r\n      </el-select>\r\n\r\n    </el-header>\r\n\r\n    <el-main>\r\n      <el-table\r\n        ref=\"questionTable\"\r\n        highlight-current-row\r\n        v-loading=\"loading\"\r\n        :border=\"true\"\r\n        :data=\"examRecords\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%;\">\r\n\r\n        <el-table-column align=\"center\" prop=\"examName\" label=\"考试名称\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" prop=\"examTime\" label=\"参考时间\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" prop=\"trueName\" label=\"参考人\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" prop=\"logicScore\" label=\"逻辑题得分\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"是否批阅\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.totalScore === null ? '未批阅' : '已批阅' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"总分\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.totalScore === null ? 0 : scope.row.totalScore }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- <el-button :type=\"scope.row.totalScore === null ? 'primary' : 'warning'\" icon=\"el-icon-view\" size=\"small\" :disabled=\"scope.row.totalScore !== null\"\r\n                       @click=\"$router.push('/markExam/' + scope.row.recordId)\">\r\n              {{ scope.row.totalScore === null ? '批阅' : '已批阅'}}\r\n            </el-button> -->\r\n            <el-button :type=\"scope.row.totalScore === null ? 'primary' : 'warning'\" icon=\"el-icon-view\" size=\"small\" :disabled=\"scope.row.totalScore !== null\"\r\n                       @click=\"$router.push('/markExam/' + scope.row.recordId)\">\r\n              {{ scope.row.totalScore === null ? '批阅' : '已批阅'}}\r\n            </el-button>\r\n            \r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"查看\">\r\n          <template slot-scope=\"scope\">\r\n              <el-button :type=\"scope.row.totalScore === null ? 'warning' : 'primary'\" icon=\"el-icon-view\" size=\"small\" :disabled=\"scope.row.totalScore == null\"\r\n                       @click=\"$router.push('/reviewMarkExam/' + scope.row.recordId)\">\r\n              {{ scope.row.totalScore === null ? '未批阅' : '查看'}} <!--null ? '批阅' : '已批阅'}}-->\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n      </el-table>\r\n\r\n      <!--分页-->\r\n      <el-pagination style=\"margin-top: 25px\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"queryInfo.pageNo\"\r\n                     :page-sizes=\"[10, 20, 30, 50]\"\r\n                     :page-size=\"queryInfo.pageSize\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n                     :total=\"total\">\r\n      </el-pagination>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'MarkManage',\r\n    data () {\r\n      return {\r\n        queryInfo: {\r\n          pageNo: 1,\r\n          pageSize: 10\r\n        },\r\n        //考试记录\r\n        examRecords: [],\r\n        //表格数据加载\r\n        loading: true,\r\n        //所有考试信息\r\n        allExamInfo: [],\r\n        //总数\r\n        total: 0\r\n      }\r\n    },\r\n    created () {\r\n      this.getExamRecords()\r\n      this.getAllExamInfo()\r\n    },\r\n    methods: {\r\n      async getExamRecords () {\r\n        await this.$http.get(this.API.getExamRecord, { params: this.queryInfo }).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.getAllExamInfo()\r\n            resp.data.data.examRecords.forEach(item => {\r\n              this.$http.get(this.API.getUserById + '/' + item.userId).then((r) => {\r\n                item.trueName = r.data.data.trueName\r\n              })\r\n            })\r\n            this.examRecords = resp.data.data.examRecords\r\n            this.total = resp.data.data.total\r\n            this.loading = false\r\n          }\r\n        })\r\n      },\r\n      getAllExamInfo () {\r\n        this.$http.get(this.API.allExamInfo).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.allExamInfo = resp.data.data\r\n            this.setExamName()\r\n          }\r\n        })\r\n      },\r\n      operation (v) {\r\n        if (v === '') this.queryInfo.examId = null\r\n        this.getExamRecords()\r\n      },\r\n      setExamName () {\r\n        this.examRecords.forEach(item => {\r\n          this.allExamInfo.forEach(i2 => {\r\n            if (item.examId === i2.examId) {\r\n              this.$set(item, 'examName', i2.examName)\r\n            }\r\n          })\r\n        })\r\n      },\r\n      //分页页面大小改变\r\n      handleSizeChange (val) {\r\n        this.queryInfo.pageSize = val\r\n        this.getExamRecords()\r\n      },\r\n      //分页插件的页数\r\n      handleCurrentChange (val) {\r\n        this.queryInfo.pageNo = val\r\n        this.getExamRecords()\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .el-container {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .el-input {\r\n    width: 200px;\r\n  }\r\n\r\n  .el-container {\r\n    animation: leftMoveIn .7s ease-in;\r\n  }\r\n\r\n  @keyframes leftMoveIn {\r\n    0% {\r\n      transform: translateX(-100%);\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      transform: translateX(0%);\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  .role {\r\n    color: #606266;\r\n  }\r\n\r\n  /deep/ .el-table thead {\r\n    color: rgb(85, 85, 85) !important;\r\n  }\r\n\r\n  /*表格的头部样式*/\r\n  /deep/ .has-gutter tr th {\r\n    background: rgb(242, 243, 244);\r\n    color: rgb(85, 85, 85);\r\n    font-weight: bold;\r\n    line-height: 32px;\r\n  }\r\n\r\n  .el-table {\r\n    box-shadow: 0 0 1px 1px gainsboro;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}