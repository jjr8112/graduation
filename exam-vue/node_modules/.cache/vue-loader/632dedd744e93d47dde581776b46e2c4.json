{"remainingRequest":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\exam_system\\exam-vue\\src\\components\\ExamDataView.vue?vue&type=style&index=0&id=3817d3de&scoped=true&lang=scss&","dependencies":[{"path":"D:\\code\\exam_system\\exam-vue\\src\\components\\ExamDataView.vue","mtime":1648616341126},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZWwtY29udGFpbmVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7Cn0KCi5lbC1jb250YWluZXIgewogIGFuaW1hdGlvbjogbGVmdE1vdmVJbiAuN3MgZWFzZS1pbjsKfQoKQGtleWZyYW1lcyBsZWZ0TW92ZUluIHsKICAwJSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOwogICAgb3BhY2l0eTogMDsKICB9CiAgMTAwJSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpOwogICAgb3BhY2l0eTogMTsKICB9Cn0K"},{"version":3,"sources":["ExamDataView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExamDataView.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container>\r\n    \r\n    <el-header>\r\n      <!--操作的下拉框-->\r\n      <el-select @change=\"operation\" clearable v-model=\"queryInfo.examId\"\r\n                 placeholder=\"请选择考试\" style=\"margin-bottom: 25px;\">\r\n        <el-option v-for=\"(item,index) in allExamInfo\" :key=\"index\" :label=\"item.examName\" :value=\"parseInt(item.examId)\">\r\n          <span style=\"float: left\">{{ item.examName }}</span>\r\n        </el-option>\r\n      </el-select>\r\n\r\n    </el-header>\r\n\r\n    <el-row>\r\n      <div id=\"img1\" style=\"width: 800px;height:400px;\"></div>\r\n      <div id=\"img2\" style=\"width: 800px;height:400px;\"></div>\r\n    </el-row>\r\n\r\n    <!-- <el-row>\r\n      <div id=\"img3\" style=\"width: 800px;height:400px;\"></div>\r\n      <div id=\"img4\" style=\"width: 800px;height:400px;\"></div>\r\n    </el-row> -->\r\n\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n\r\n    name: 'ExamDataView',\r\n\r\n    data () {\r\n      return {\r\n        queryInfo: {\r\n          pageNo: 1,\r\n          pageSize: 10\r\n        },\r\n        //所有考试信息\r\n        allExamInfo: [],\r\n        //考试名称\r\n        examNames: [],\r\n        //考试通过率\r\n        passRate: [],\r\n        //饼图的数据\r\n        pieData: [],\r\n      }\r\n    },\r\n\r\n    created () {\r\n      //页面数据加载的等待状态栏\r\n      this.loading = this.$Loading.service({\r\n        body: true,\r\n        lock: true,\r\n        text: '数据拼命加载中,(*╹▽╹*)',\r\n        spinner: 'el-icon-loading',\r\n      })\r\n      this.getExamPassRate()\r\n      this.getExamNumbers()\r\n      this.getAllExamInfo()\r\n      \r\n    },\r\n\r\n    methods: {\r\n\r\n      async getExamPassRate () {\r\n        await this.$http.get(this.API.getExamPassRate).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.examNames = resp.data.data[0].split(',')\r\n            this.passRate = resp.data.data[1].split(',')\r\n            this.drawLine()\r\n            //this.drawBrokenLine()\r\n            //this.drawImg4()\r\n            this.loading.close()\r\n          }\r\n        })\r\n      },\r\n\r\n      //考试通过率柱状图\r\n      drawLine () {\r\n        // 基于准备好的dom，初始化echarts实例\r\n        let myChart = this.$echarts.init(document.getElementById('img1'))\r\n        // 绘制图表\r\n        myChart.setOption({\r\n          title: {\r\n            text: '考试通过率',\r\n            subtext: 'dashbord1',\r\n            x: 'center',\r\n            y: 'top',\r\n            textAlign: 'center'\r\n          },\r\n          tooltip: {},\r\n          xAxis: {\r\n            data: this.examNames\r\n          },\r\n          yAxis: {},\r\n          series: [{\r\n            name: '通过率',\r\n            type: 'bar',\r\n            data: this.passRate\r\n          }]\r\n        })\r\n      },\r\n\r\n      //获取考试次数数据\r\n      async getExamNumbers () {\r\n        await this.$http.get(this.API.getExamNumbers).then((resp) => {\r\n          console.log(resp)\r\n          let examNames = resp.data.data[0].split(',')\r\n          let examNumbers = resp.data.data[1].split(',')\r\n          examNames.forEach((item, index) => {\r\n            this.pieData.push({\r\n              name: item,\r\n              value: parseInt(examNumbers[index])\r\n            })\r\n          })\r\n          this.drawPie()\r\n        })\r\n      },\r\n\r\n      //考试次数饼图\r\n      drawPie () {\r\n        // 基于准备好的dom，初始化echarts实例\r\n        let myChart = this.$echarts.init(document.getElementById('img2'))\r\n        myChart.setOption({\r\n          title: {\r\n            text: '考试次数占比',\r\n            subtext: 'dashbord2',\r\n            x: 'center'\r\n          },\r\n          tooltip: {\r\n            trigger: 'item',\r\n            formatter: '{a} <br/>{b} : {c}次 ({d}%)'\r\n          },\r\n          legend: {\r\n            orient: 'vertical',\r\n            left: 'left',\r\n            data: this.pieData\r\n          },\r\n          series: [\r\n            {\r\n              name: '考试次数',\r\n              type: 'pie',\r\n              radius: '55%',\r\n              data: this.pieData,\r\n              //roseType: 'angle',\r\n              itemStyle: {\r\n                normal: {\r\n                  shadowBlur: 200,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        })\r\n      },\r\n\r\n      //通过率的折线图\r\n      drawBrokenLine () {\r\n        //初始化ehcharts实例\r\n        let myChart = this.$echarts.init(document.getElementById('img3'))\r\n        //指定图表的配置项和数据\r\n        var option = {\r\n          //标题\r\n          title: {\r\n            text: '考试通过率折线图',\r\n            x: 'center'\r\n          },\r\n          //x轴\r\n          xAxis: {\r\n            data: this.examNames\r\n          },\r\n          //y轴没有显式设置，根据值自动生成y轴\r\n          yAxis: {},\r\n          //数据-data是最终要显示的数据\r\n          series: [{\r\n            name: '通过率',\r\n            type: 'line',\r\n            areaStyle: {\r\n              normal: {}\r\n            },\r\n            data: this.passRate\r\n          }],\r\n        }\r\n        //使用刚刚指定的配置项和数据项显示图表\r\n        myChart.setOption(option)\r\n      },\r\n      \r\n      getAllExamInfo () {\r\n        this.$http.get(this.API.allExamInfo).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.allExamInfo = resp.data.data\r\n            this.setExamName()\r\n          }\r\n        })\r\n      },\r\n\r\n      drawImg4 () {\r\n        let myChart = this.$echarts.init(document.getElementById('img4'))\r\n        myChart.setOption({\r\n          color: [\"#cd5c5c\"],\r\n          textStyle: {\r\n            color: 'black'\r\n          },\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'shadow'\r\n            },\r\n            formatter: \"{a} <br/>{b} : {c}\"\r\n          },\r\n\r\n          grid: {\r\n            containLabel: true\r\n          },\r\n          xAxis: {\r\n            type: 'value',\r\n            boundaryGap: [0, 0.01],\r\n            axisLine:{\r\n              lineStyle:{\r\n                color:'#fff'\r\n              },\r\n            },\r\n            \"axisLabel\": {\r\n              \"interval\": 0,\r\n              fontSize: 18,\r\n              formatter: '{value}',\r\n            }\r\n          },\r\n          yAxis: {\r\n            axisLine:{\r\n              lineStyle:{\r\n                color:'#fff'\r\n              },\r\n            },\r\n            \"axisLabel\": {\r\n              \"interval\": 0,\r\n              fontSize: 18,\r\n            },\r\n            type: 'category',\r\n            data: this.examNames\r\n          },\r\n          series: [{\r\n            name: '通过率：',\r\n            type: 'bar',\r\n            data: this.passRate,\r\n          }]\r\n        })\r\n      }\r\n\r\n    }\r\n    \r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n  .el-container {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .el-container {\r\n    animation: leftMoveIn .7s ease-in;\r\n  }\r\n\r\n  @keyframes leftMoveIn {\r\n    0% {\r\n      transform: translateX(-100%);\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      transform: translateX(0%);\r\n      opacity: 1;\r\n    }\r\n  }\r\n</style>\r\n"]}]}