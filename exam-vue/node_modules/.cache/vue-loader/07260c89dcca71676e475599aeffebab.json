{"remainingRequest":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\exam_system\\exam-vue\\src\\components\\ExamResult.vue?vue&type=style&index=0&id=4382c54c&scoped=true&lang=scss&","dependencies":[{"path":"D:\\code\\exam_system\\exam-vue\\src\\components\\ExamResult.vue","mtime":1645680824551},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiogewogIGZvbnQtd2VpZ2h0OiA4MDA7Cn0KCi5lbC1jb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQoKLmVsLWNvbnRhaW5lciB7CiAgYW5pbWF0aW9uOiBsZWZ0TW92ZUluIC43cyBlYXNlLWluOwp9CgpAa2V5ZnJhbWVzIGxlZnRNb3ZlSW4gewogIDAlIHsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7CiAgICBvcGFjaXR5OiAwOwogIH0KICAxMDAlIHsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwJSk7CiAgICBvcGFjaXR5OiAxOwogIH0KfQoKLmV4YW1OYW1lIHsKICBjb2xvcjogIzE2MGY1ODsKICBib3JkZXItYm90dG9tOiA0cHggc29saWQgI2ZmZDU1MDsKICBmb250LXNpemU6IDE4cHg7CiAgZm9udC13ZWlnaHQ6IDcwMDsKICBwYWRkaW5nLWJvdHRvbTogMTBweAp9CgouZXhhbVRpbWUgewogIGZvbnQtc2l6ZTogMTZweDsKICBjb2xvcjogI2NiY2FjZjsKICBtYXJnaW4tbGVmdDogMjBweDsKICBmb250LXdlaWdodDogNzAwOwp9CgouZWwtcmFkaW8tZ3JvdXAgbGFiZWwgewogIGRpc3BsYXk6IGJsb2NrOwogIHdpZHRoOiA0MDBweDsKICBwYWRkaW5nOiA0OHB4IDIwcHggMTBweCAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBib3JkZXI6IDFweCBzb2xpZCAjZGNkZmU2OwogIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwoKICBzcGFuIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgZm9udC1zaXplOiAxNnB4OwogIH0KfQoKLm51bSB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGJhY2tncm91bmQ6IHVybCgnLi4vYXNzZXRzL2ltZ3MvZXhhbVRpdGxlLnBuZycpIG5vLXJlcGVhdCAxMDAlIDEwMCU7CiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluOwogIGhlaWdodDogMzdweDsKICB3aWR0aDogMzdweDsKICBsaW5lLWhlaWdodDogMzBweDsKICBjb2xvcjogI2ZmZjsKICBmb250LXNpemU6IDIwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbi1yaWdodDogMTVweDsKfQoKLyrpgInkuK3nmoTnrZTmoYgqLwouYWN0aXZlIHsKICBib3JkZXI6IDFweCBzb2xpZCAjMWY5MGZmICFpbXBvcnRhbnQ7CiAgb3BhY2l0eTogLjU7Cn0KCi8qICDpgInkuK3nmoTnrZTmoYjkuJTmmK/mraPnoa7nrZTmoYgqLwouYWN0aXZlQW5kVHJ1ZSB7CiAgYm9yZGVyOiAxcHggc29saWQgIzFmOTBmZiAhaW1wb3J0YW50OwogIG9wYWNpdHk6IC41OwogIGhlaWdodDogMTVweDsKICB3aWR0aDogMTVweDsKICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47CiAgYmFja2dyb3VuZDogdXJsKCcuLi9hc3NldHMvaW1ncy90cnVlLnBuZycpIG5vLXJlcGVhdCA5NSU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwp9CgoudHJ1ZSB7CiAgaGVpZ2h0OiAxNXB4OwogIHdpZHRoOiAxNXB4OwogIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjsKICBiYWNrZ3JvdW5kOiB1cmwoJy4uL2Fzc2V0cy9pbWdzL3RydWUucG5nJykgbm8tcmVwZWF0IDk1JTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGxlZnQ6IDA7Cn0KCi5xdWVzLWFuYWx5c2lzIHsKICBwYWRkaW5nOiAzMHB4IDQwcHg7CiAgYmFja2dyb3VuZDogI2Y2ZjZmODsKICBtYXJnaW4tYm90dG9tOiA3MHB4Owp9Cg=="},{"version":3,"sources":["ExamResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgNA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ExamResult.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header height=\"150\">\r\n      <el-card style=\"height: 150px\">\r\n        <span class=\"examName\">{{ examInfo.examName }}</span>\r\n        <span class=\"examTime\">{{ examRecord.examTime }}</span>\r\n\r\n        <el-row style=\"margin-top: 55px;\">\r\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"包括(单选,多选,判断题)\" placement=\"top-start\">\r\n             <span style=\"font-weight: 800;font-size: 17px\">\r\n          逻辑题得分: {{ examRecord.logicScore }}分</span>\r\n          </el-tooltip>\r\n\r\n          <el-tooltip class=\"item\" effect=\"dark\" content=\"简答题与逻辑题\" placement=\"top-start\">\r\n          <span style=\"float: right;font-weight: 800;font-size: 17px\">\r\n          总分: {{ examInfo.totalScore }}分</span>\r\n          </el-tooltip>\r\n        </el-row>\r\n\r\n      </el-card>\r\n\r\n    </el-header>\r\n\r\n    <el-main>\r\n      <el-card>\r\n        <!--题目信息-->\r\n        <div v-for=\"(item,index) in questionInfo\" :key=\"index\" style=\"margin-top: 15px\">\r\n          <div>\r\n            <i class=\"num\">{{ index+1 }}</i>\r\n            <span v-if=\"item.questionType === 1\">【单选题】</span>\r\n            <span v-else-if=\"item.questionType === 2\">【多选题】</span>\r\n            <span v-else-if=\"item.questionType === 3\">【判断题】</span>\r\n            <span v-else>【简答题】</span>\r\n            <span>{{ item.questionContent}}:</span>\r\n            <span style=\"color: red;font-style: italic;font-weight: 400;\">&nbsp;{{ questionScore.get(String(item.questionId)) }}分</span>\r\n          </div>\r\n          <!--题目中的配图-->\r\n          <img v-for=\"url in item.images\" :src=\"url\" title=\"点击查看大图\" alt=\"题目图片\"\r\n               style=\"width: 100px;height: 100px;cursor: pointer\" @click=\"showBigImg(url)\">\r\n\r\n          <!--单选 和 判断 的答案列表-->\r\n          <div style=\"margin-top: 25px\"\r\n               v-show=\"item.questionType === 1 || item.questionType === 3\">\r\n            <div class=\"el-radio-group\">\r\n              <label v-for=\"(i2,index2) in item.answer\"\r\n                     :class=\"String(index2) === userAnswer[index] && i2.isTrue === 'true' ?\r\n                      'activeAndTrue' : String(index2) === userAnswer[index] ? 'active' :\r\n                       i2.isTrue === 'true' ? 'true' : ''\">\r\n                <span>{{ optionName[index2] + '、' + i2.answer}}</span>\r\n                <img style=\"position: absolute;left:100%;top:50%;transform: translateY(-50%);\r\n                  width: 40px;height: 40px;float: right;cursor: pointer;\" title=\"点击查看大图\"\r\n                     v-if=\"i2.images !== null\"\r\n                     v-for=\"i3 in i2.images\" :src=\"i3\" alt=\"\" @mouseover=\"showBigImg(i3)\">\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <!--多选的答案列表-->\r\n          <div style=\"margin-top: 25px\" v-show=\"item.questionType === 2\">\r\n            <div class=\"el-radio-group\">\r\n              <label v-for=\"(i2,index2) in item.answer\"\r\n                     :class=\"(userAnswer[index]+'').indexOf(index2+'') !== -1 && i2.isTrue === 'true'\r\n                     ? 'activeAndTrue' : (userAnswer[index]+'').indexOf(index2+'') !== -1 ? 'active' :\r\n                       i2.isTrue === 'true' ? 'true' : ''\">\r\n                <span>{{ optionName[index] + '、' + i2.answer}}</span>\r\n                <img style=\"position: absolute;left:100%;top:50%;transform: translateY(-50%);\r\n                  width: 40px;height: 40px;float: right;cursor: pointer;\" title=\"点击查看大图\"\r\n                     v-if=\"i2.images !== null\"\r\n                     v-for=\"i3 in i2.images\" :src=\"i3\" alt=\"\" @mouseover=\"showBigImg(i3)\">\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <!--简答题的答案-->\r\n          <div style=\"margin-top: 25px\" v-show=\"item.questionType === 4\">\r\n            <div class=\"ques-analysis\">\r\n              <h3 style=\"font-weight: 400\">我的回答：</h3>\r\n              <p style=\"font-weight: 400;color: orange\"> {{ userAnswer[index] }} </p>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      </el-card>\r\n    </el-main>\r\n\r\n    <!--图片回显-->\r\n    <el-dialog :visible.sync=\"bigImgDialog\" @close=\"bigImgDialog = false\">\r\n      <img style=\"width: 100%\" :src=\"bigImgUrl\">\r\n    </el-dialog>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'ExamResult',\r\n    data () {\r\n      return {\r\n        //考试记录信息\r\n        examRecord: {},\r\n        //考试的信息\r\n        examInfo: {},\r\n        //当前考试的题目\r\n        questionInfo: [],\r\n        //页面加载\r\n        loading: {},\r\n        //答案的选项名abcd数据\r\n        optionName: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'],\r\n        //图片回显的url\r\n        bigImgUrl: '',\r\n        //图片回显的对话框是否显示\r\n        bigImgDialog: false,\r\n        //用户回答的答案\r\n        userAnswer: [],\r\n        //单题的分值\r\n        questionScore: new Map()\r\n      }\r\n    },\r\n    props: ['tagInfo'],\r\n    created () {\r\n      //一创建就改变头部的面包屑\r\n      this.$emit('giveChildChangeBreakInfo', '考试结果', '考试结果')\r\n      this.createTagsInParent()\r\n      this.getExamRecord()\r\n\r\n      //页面数据加载的等待状态栏\r\n      this.loading = this.$Loading.service({\r\n        body: true,\r\n        lock: true,\r\n        text: '数据拼命加载中,(*╹▽╹*)',\r\n        spinner: 'el-icon-loading',\r\n      })\r\n    },\r\n    methods: {\r\n      //向父组件中添加头部的tags标签\r\n      createTagsInParent () {\r\n        let flag = false\r\n        this.tagInfo.map(item => {\r\n          //如果tags全部符合\r\n          if (item.name === '考试结果' && item.url === this.$route.path) {\r\n            flag = true\r\n          } else if (item.name === '考试结果' && item.url !== this.$route.path) {\r\n            this.$emit('updateTagInfo', '考试结果', this.$route.path)\r\n            flag = true\r\n          }\r\n        })\r\n        if (!flag) this.$emit('giveChildAddTag', '考试结果', this.$route.path)\r\n      },\r\n      //查询用户当时考试的信息\r\n      getExamRecord () {\r\n        this.$http.get(this.API.getExamRecordById + '/' + this.$route.params.recordId).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.examRecord = resp.data.data\r\n            this.getExamInfoById(resp.data.data.examId)\r\n            this.userAnswer = resp.data.data.userAnswers.split('-')\r\n            //获取单题的分值\r\n            this.getQuestionScore(resp.data.data.examId)\r\n            //获取所有题目信息\r\n            resp.data.data.questionIds.split(',').forEach(item => {\r\n              this.getQuestionInfoById(item)\r\n            })\r\n            //数据加载完毕\r\n            this.loading.close()\r\n          }\r\n        })\r\n      },\r\n      //根据考试id查询考试信息\r\n      getExamInfoById (examId) {\r\n        this.$http.get(this.API.getExamInfoById, { params: { 'examId': examId } }).then((resp) => {\r\n          if (resp.data.code === 200) this.examInfo = resp.data.data\r\n        })\r\n      },\r\n      //根据id查询题目信息\r\n      async getQuestionInfoById (questionId) {\r\n        await this.$http.get(this.API.getQuestionById + '/' + questionId).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.questionInfo.push(resp.data.data)\r\n            //重置问题的顺序 单选 多选 判断 简答\r\n            this.questionInfo = this.questionInfo.sort(function (a, b) {\r\n              return a.questionType - b.questionType\r\n            })\r\n          }\r\n        })\r\n      },\r\n      //点击展示高清大图\r\n      showBigImg (url) {\r\n        this.bigImgUrl = url\r\n        this.bigImgDialog = true\r\n      },\r\n      //根据考试id查询考试中每一题的分数\r\n      async getQuestionScore (examId) {\r\n        await this.$http.get(this.API.getExamQuestionByExamId + '/' + examId).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            //设置单题分值给map\r\n            const scores = resp.data.data.scores.split(',')\r\n            resp.data.data.questionIds.split(',').forEach((item, index) => {\r\n              // this.$set(this.questionScore, item, scores[index])\r\n              this.questionScore.set(item, scores[index])\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  * {\r\n    font-weight: 800;\r\n  }\r\n\r\n  .el-container {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .el-container {\r\n    animation: leftMoveIn .7s ease-in;\r\n  }\r\n\r\n  @keyframes leftMoveIn {\r\n    0% {\r\n      transform: translateX(-100%);\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      transform: translateX(0%);\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  .examName {\r\n    color: #160f58;\r\n    border-bottom: 4px solid #ffd550;\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n    padding-bottom: 10px\r\n  }\r\n\r\n  .examTime {\r\n    font-size: 16px;\r\n    color: #cbcacf;\r\n    margin-left: 20px;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .el-radio-group label {\r\n    display: block;\r\n    width: 400px;\r\n    padding: 48px 20px 10px 20px;\r\n    border-radius: 4px;\r\n    border: 1px solid #dcdfe6;\r\n    margin-bottom: 10px;\r\n    position: relative;\r\n\r\n    span {\r\n      position: absolute;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      font-size: 16px;\r\n    }\r\n  }\r\n\r\n  .num {\r\n    display: inline-block;\r\n    background: url('../assets/imgs/examTitle.png') no-repeat 100% 100%;\r\n    background-size: contain;\r\n    height: 37px;\r\n    width: 37px;\r\n    line-height: 30px;\r\n    color: #fff;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    margin-right: 15px;\r\n  }\r\n\r\n  /*选中的答案*/\r\n  .active {\r\n    border: 1px solid #1f90ff !important;\r\n    opacity: .5;\r\n  }\r\n\r\n  /*  选中的答案且是正确答案*/\r\n  .activeAndTrue {\r\n    border: 1px solid #1f90ff !important;\r\n    opacity: .5;\r\n    height: 15px;\r\n    width: 15px;\r\n    background-size: contain;\r\n    background: url('../assets/imgs/true.png') no-repeat 95%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n\r\n  .true {\r\n    height: 15px;\r\n    width: 15px;\r\n    background-size: contain;\r\n    background: url('../assets/imgs/true.png') no-repeat 95%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n  }\r\n\r\n  .ques-analysis {\r\n    padding: 30px 40px;\r\n    background: #f6f6f8;\r\n    margin-bottom: 70px;\r\n  }\r\n</style>\r\n"]}]}