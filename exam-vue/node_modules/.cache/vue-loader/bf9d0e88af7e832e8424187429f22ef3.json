{"remainingRequest":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\exam_system\\exam-vue\\src\\components\\AddExam.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\exam_system\\exam-vue\\src\\components\\AddExam.vue","mtime":1647245269320},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkRXhhbScsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICAvL+afpeivoumimOebrueahOWPguaVsAogICAgICBxdWVyeUluZm86IHsKICAgICAgICAvL+mimOebruexu+Wei+S4i+aLieasvuaJgOmAieeahOWGheWuuQogICAgICAgICdxdWVzdGlvblR5cGUnOiAnJywKICAgICAgICAncXVlc3Rpb25CYW5rJzogJycsCiAgICAgICAgJ3F1ZXN0aW9uQ29udGVudCc6ICcnLAogICAgICAgICdwYWdlTm8nOiAxLAogICAgICAgICdwYWdlU2l6ZSc6IDEwCiAgICAgIH0sCiAgICAgIC8v6aKY55uu57G75Z6LCiAgICAgIHF1ZXN0aW9uVHlwZTogWwogICAgICAgIHsKICAgICAgICAgIGlkOiAxLAogICAgICAgICAgbmFtZTogJ+WNlemAiemimCcsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBpZDogMiwKICAgICAgICAgIG5hbWU6ICflpJrpgInpopgnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgaWQ6IDMsCiAgICAgICAgICBuYW1lOiAn5Yik5pat6aKYJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGlkOiA0LAogICAgICAgICAgbmFtZTogJ+eugOetlOmimCcsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgLy/lvZPliY3nmoTmraXpqqQKICAgICAgY3VyU3RlcDogMSwKICAgICAgLy/nu4TljbfmqKHlvI8KICAgICAgbWFrZU1vZGVsOiAxLAogICAgICAvL+a3u+WKoOiAg+ivlemimOebruS/oeaBryhtYWtlTW9kZWwgPSAx55qE5pe25YCZKQogICAgICBhZGRFeGFtUXVlc3Rpb246IFtdLAogICAgICAvL+aJgOaciemimOW6k+S/oeaBrwogICAgICBhbGxCYW5rOiBbXSwKICAgICAgLy/mt7vliqDogIPor5Xpopjnm67kv6Hmga8obWFrZU1vZGVsID0gMiDnmoTml7blgJkpCiAgICAgIGFkZEV4YW1RdWVzdGlvbjI6IFtdLAogICAgICAvL+aJgOaciemimOebrueahOWvueivneahhgogICAgICBzaG93UXVlc3Rpb25EaWFsb2c6IGZhbHNlLAogICAgICAvL+WvueivneahhuS4remimOebruihqOagvOeahOWKoOi9vQogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvL+aJgOaciemimOebrueahOS/oeaBrwogICAgICBxdWVzdGlvbkluZm86IFtdLAogICAgICAvL+aJgOaciemimOebrueahOWvueivneahhuS4reihqOagvOiiq+mAieS4rQogICAgICBzZWxlY3RlZFRhYmxlOiBbXSwKICAgICAgLy/miYDmnInpopjnm67mgLvmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8v6ICD6K+V5p2D6ZmQKDHlhazlvIAsIDLlr4bnoIEpCiAgICAgIGV4YW1BdXRob3JpdHk6IDEsCiAgICAgIC8v6ICD6K+V5a+G56CBKOadg+mZkOS4ujLml7bnmoTlr4bnoIEpCiAgICAgIGV4YW1QYXNzd29yZDogJycsCiAgICAgIC8v6KGl5YWF55qE6ICD6K+V5L+h5oGvCiAgICAgIGV4YW1JbmZvOiB7CiAgICAgICAgJ2V4YW1JZCc6ICcnLAogICAgICAgICdleGFtRGVzYyc6ICcnLAogICAgICAgICdwYXNzU2NvcmUnOiAwLAogICAgICAgICdleGFtRHVyYXRpb24nOiAnJywKICAgICAgICAnc3RhcnRUaW1lJzogJycsCiAgICAgICAgJ2VuZFRpbWUnOiAnJwogICAgICB9LAogICAgICAvL+ihpeWFheeahOiAg+ivleS/oeaBr+eahOihqOWNlemqjOivgQogICAgICBleGFtSW5mb1J1bGVzOiB7CiAgICAgICAgZXhhbU5hbWU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXogIPor5XlkI3np7AnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIHBhc3NTY29yZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemAmui/h+WIhuaVsCcsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgZXhhbUR1cmF0aW9uOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6ICD6K+V5pe26ZW/JywKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgfSwKICAgIH0KICB9LAogIHByb3BzOiBbJ3RhZ0luZm8nXSwKICBjcmVhdGVkICgpIHsKICAgIC8v5LiA5Yib5bu65bCx5pS55Y+Y5aS06YOo55qE6Z2i5YyF5bGRCiAgICB0aGlzLiRlbWl0KCdnaXZlQ2hpbGRDaGFuZ2VCcmVha0luZm8nLCAn5re75Yqg6ICD6K+VJywgJ+a3u+WKoOiAg+ivlScpCiAgICB0aGlzLmNyZWF0ZVRhZ3NJblBhcmVudCgpCiAgICB0aGlzLmdldEJhbmtJbmZvKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5ZCR54i257uE5Lu25Lit5re75Yqg5aS06YOo55qEdGFnc+agh+etvgogICAgY3JlYXRlVGFnc0luUGFyZW50ICgpIHsKICAgICAgbGV0IGZsYWcgPSBmYWxzZQogICAgICB0aGlzLnRhZ0luZm8ubWFwKGl0ZW0gPT4gewogICAgICAgIC8v5aaC5p6cdGFnc+WFqOmDqOespuWQiAogICAgICAgIGlmIChpdGVtLm5hbWUgPT09ICfmt7vliqDogIPor5UnICYmIGl0ZW0udXJsID09PSB0aGlzLiRyb3V0ZS5wYXRoKSB7CiAgICAgICAgICBmbGFnID0gdHJ1ZQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lID09PSAn5re75Yqg6ICD6K+VJyAmJiBpdGVtLnVybCAhPT0gdGhpcy4kcm91dGUucGF0aCkgewogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlVGFnSW5mbycsICfmt7vliqDogIPor5UnLCB0aGlzLiRyb3V0ZS5wYXRoKQogICAgICAgICAgZmxhZyA9IHRydWUKICAgICAgICB9CiAgICAgIH0pCiAgICAgIGlmICghZmxhZykgdGhpcy4kZW1pdCgnZ2l2ZUNoaWxkQWRkVGFnJywgJ+a3u+WKoOiAg+ivlScsIHRoaXMuJHJvdXRlLnBhdGgpCiAgICB9LAogICAgLy/ojrflj5bmiYDmnInnmoTpopjlupPkv6Hmga8KICAgIGdldEJhbmtJbmZvICgpIHsKICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy5BUEkuZ2V0QmFua0hhdmVRdWVzdGlvblN1bUJ5VHlwZSwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgJ3BhZ2VObyc6IDEsCiAgICAgICAgICAncGFnZVNpemUnOiA5OTk5CiAgICAgICAgfQogICAgICB9KS50aGVuKChyZXNwKSA9PiB7CiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHRoaXMuYWxsQmFuayA9IHJlc3AuZGF0YS5kYXRhLmJhbmtIYXZlUXVlc3Rpb25TdW1zCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy/liKDpmaTlvZPliY3pnIDopoHljrvpmaTnmoTpopjlupMKICAgIGRlbEJhbmsgKGJhbmtJZCkgewogICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbi5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgIGlmIChpdGVtLmJhbmtJZCA9PT0gYmFua0lkKSB0aGlzLmFkZEV4YW1RdWVzdGlvbi5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIH0pCiAgICB9LAogICAgLy/mt7vliqDpopjlupPnu4TljbfkuK3nmoTpopjlupMKICAgIGFkZEJhbmsgKCkgewogICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbi5wdXNoKAogICAgICAgIHsKICAgICAgICAgICdiYW5rTmFtZSc6ICcnLAogICAgICAgICAgJ3NpbmdsZVNjb3JlJzogMSwKICAgICAgICAgICdtdWx0aXBsZVNjb3JlJzogMSwKICAgICAgICAgICdqdWRnZVNjb3JlJzogMSwKICAgICAgICAgICdzaG9ydFNjb3JlJzogMQogICAgICAgIH0pCiAgICB9LAogICAgLy/oh6rnlLHnu4Tljbfml7bmt7vliqDor5XpopgKICAgIHNob3dBZGREaWFsb2cgKCkgewogICAgICB0aGlzLnNob3dRdWVzdGlvbkRpYWxvZyA9IHRydWUKICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKQogICAgfSwKICAgIC8v6Ieq55Sx57uE5Y235pe25Yig6Zmk6K+V6aKYCiAgICBkZWxRdWVzdGlvbiAocXVlc3Rpb25JZCkgewogICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbjIuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaXRlbS5xdWVzdGlvbklkID09PSBxdWVzdGlvbklkKSB0aGlzLmFkZEV4YW1RdWVzdGlvbjIuc3BsaWNlKGluZGV4LCAxKQogICAgICB9KQogICAgfSwKICAgIC8v6aKY55uu57G75Z6L5Y+Y5YyWCiAgICB0eXBlQ2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucXVlc3Rpb25UeXBlID0gdmFsCiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkKICAgIH0sCiAgICAvL+mimOW6k+WPmOWMlgogICAgYmFua0NoYW5nZSAodmFsKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnF1ZXN0aW9uQmFuayA9IHZhbAogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpCiAgICB9LAogICAgLy/ojrflj5bpopjnm67kv6Hmga8KICAgIGdldFF1ZXN0aW9uSW5mbyAoKSB7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KHRoaXMuQVBJLmdldFF1ZXN0aW9uLCB7IHBhcmFtczogdGhpcy5xdWVyeUluZm8gfSkudGhlbigocmVzcCkgPT4gewogICAgICAgIGlmIChyZXNwLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnF1ZXN0aW9uSW5mbyA9IHJlc3AuZGF0YS5kYXRhLnF1ZXN0aW9uczsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwLmRhdGEuZGF0YS50b3RhbDsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfojrflj5bpopjlupPkv6Hmga/lpLHotKUnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy/lpITnkIbooajmoLzooqvpgInkuK0KICAgIGhhbmRsZVRhYmxlU2VjdGlvbkNoYW5nZSAodmFsKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUYWJsZSA9IHZhbAogICAgfSwKICAgIC8v5YiG6aG16aG16Z2i5aSn5bCP5pS55Y+YCiAgICBoYW5kbGVTaXplQ2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSB2YWwKICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKQogICAgfSwKICAgIC8v5YiG6aG15o+S5Lu255qE6aG15pWwCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlICh2YWwpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZU5vID0gdmFsCiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkKICAgIH0sCiAgICAvL+iHqueUsee7hOWNt+S4remAieS4reeahOmimOebrua3u+WKoOi/m+WOuwogICAgYWRkUXVUb0ZyZWUgKCkgewogICAgICB0aGlzLnNlbGVjdGVkVGFibGUuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpZiAoIXRoaXMuYWRkRXhhbVF1ZXN0aW9uMi5zb21lKGkyID0+IHsKICAgICAgICAgIHJldHVybiBpMi5xdWVzdGlvbklkID09PSBpdGVtLmlkCiAgICAgICAgfSkpIHsvL+S4jeWtmOWcqOacieW9k+WJjemimOebrgogICAgICAgICAgdGhpcy5hZGRFeGFtUXVlc3Rpb24yLnB1c2goewogICAgICAgICAgICAncXVlc3Rpb25JZCc6IGl0ZW0uaWQsCiAgICAgICAgICAgICdxdWVzdGlvbkNvbnRlbnQnOiBpdGVtLnF1Q29udGVudCwKICAgICAgICAgICAgJ3F1ZXN0aW9uVHlwZSc6IGl0ZW0ucXVUeXBlLAogICAgICAgICAgICAnc2NvcmUnOiAxCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5zaG93UXVlc3Rpb25EaWFsb2cgPSBmYWxzZQogICAgfSwKICAgIC8v57uE5Y235qih5byP5Y+Y5YyWCiAgICBtYWtlTW9kZWxDaGFuZ2UgKCkgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbkuKLlpLHlvZPliY3nu4TljbfmlbDmja4sIOaYr+WQpue7p+e7rT8nLCAnVGlwcycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMubWFrZU1vZGVsID09PSAxID8gdGhpcy5hZGRFeGFtUXVlc3Rpb24yID0gW10gOiB0aGlzLmFkZEV4YW1RdWVzdGlvbiA9IFtdCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgfSkKICAgIH0sCiAgICAvL+aXtumXtOagvOW8j+i9rOaNogogICAgY2hhbmdlRGF0ZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsKQogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHZhbCkKICAgICAgdmFyIHkgPSBkYXRlLmdldEZ1bGxZZWFyKCkKICAgICAgdmFyIG0gPSBkYXRlLmdldE1vbnRoKCkgKyAxCiAgICAgIG0gPSBtIDwgMTAgPyAoJzAnICsgbSkgOiBtCiAgICAgIHZhciBkID0gZGF0ZS5nZXREYXRlKCkKICAgICAgZCA9IGQgPCAxMCA/ICgnMCcgKyBkKSA6IGQKICAgICAgY29uc3QgdGltZSA9ICB5ICsgJy0nICsgbSArICctJyArIGQ7CiAgICAgIHJldHVybiB0aW1lCiAgICB9LAogICAgLy/mt7vliqDogIPor5UKICAgIGFkZEV4YW0gKCkgewogICAgICB0aGlzLiRyZWZzWydleGFtSW5mb0Zvcm0nXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICBpZiAodmFsaWQgJiYgKHRoaXMuYWRkRXhhbVF1ZXN0aW9uLmxlbmd0aCAhPT0gMCB8fCB0aGlzLmFkZEV4YW1RdWVzdGlvbjIubGVuZ3RoICE9PSAwKSkgewogICAgICAgICAgLy/mnoTpgKDmlbDmja7lr7nosaEo6ICD6K+V5L+h5oGvKQogICAgICAgICAgbGV0IGV4YW0gPSB0aGlzLmV4YW1JbmZvCiAgICAgICAgICBleGFtLnRvdGFsU2NvcmUgPSB0aGlzLnN1bVRvdGFsU2NvcmUKICAgICAgICAgIGV4YW0uc3RhdHVzID0gMQogICAgICAgICAgLy/mnYPpmZBpZOiuvue9rgogICAgICAgICAgZXhhbS50eXBlID0gdGhpcy5leGFtQXV0aG9yaXR5CiAgICAgICAgICBpZiAodGhpcy5leGFtQXV0aG9yaXR5ID09PSAyKSB7Ly/ogIPor5Xlr4bnoIEKICAgICAgICAgICAgaWYgKHRoaXMuZXhhbVBhc3N3b3JkID09PSAnJykgey8vIOW9k+WJjeeUqOaIt+mAieaLqeS6humcgOimgeWvhueggeadg+mZkCzkvYbmmK/lr4bnoIHkuLrnqboKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflvZPliY3mnYPpmZDkuLrpnIDopoHlr4bnoIEs5L2G5piv5a+G56CB5Li656m6Jyk7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV4YW0ucGFzc3dvcmQgPSB0aGlzLmV4YW1QYXNzd29yZAogICAgICAgICAgfQogICAgICAgICAgLy/popjlupPnu4TljbfmqKHlvI8KICAgICAgICAgIGlmICh0aGlzLm1ha2VNb2RlbCA9PT0gMSAmJiAhdGhpcy5hZGRFeGFtUXVlc3Rpb24uc29tZShpdGVtID0+IGl0ZW0uYmFua0lkID09PSAnJykpIHsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hZGRFeGFtUXVlc3Rpb24pCiAgICAgICAgICAgIGxldCBiYW5rTmFtZXMgPSBbXQogICAgICAgICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbi5mb3JFYWNoKGl0ZW0gPT4gYmFua05hbWVzLnB1c2goaXRlbS5iYW5rTmFtZSkpCiAgICAgICAgICAgIGV4YW0uYmFua05hbWVzID0gYmFua05hbWVzLmpvaW4oJywnKQogICAgICAgICAgICBleGFtLnNpbmdsZVNjb3JlID0gdGhpcy5hZGRFeGFtUXVlc3Rpb25bMF0uc2luZ2xlU2NvcmUKICAgICAgICAgICAgZXhhbS5tdWx0aXBsZVNjb3JlID0gdGhpcy5hZGRFeGFtUXVlc3Rpb25bMF0ubXVsdGlwbGVTY29yZQogICAgICAgICAgICBleGFtLmp1ZGdlU2NvcmUgPSB0aGlzLmFkZEV4YW1RdWVzdGlvblswXS5qdWRnZVNjb3JlCiAgICAgICAgICAgIGV4YW0uc2hvcnRTY29yZSA9IHRoaXMuYWRkRXhhbVF1ZXN0aW9uWzBdLnNob3J0U2NvcmUKICAgICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KHRoaXMuQVBJLmFkZEV4YW1CeUJhbmssIGV4YW0pLnRoZW4oKHJlc3ApID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgPT09IDIwMCkgdGhpcy4kcm91dGVyLnB1c2goJy9leGFtTWFuYWdlJykKICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYWtlTW9kZWwgPT09IDIpIHsvL+iHqueUsee7hOWNt+aooeW8jwogICAgICAgICAgICAvL+mimOebrmlk5pWw57uECiAgICAgICAgICAgIGxldCBxdWVzdGlvbklkcyA9IFtdCiAgICAgICAgICAgIC8v6aKY55uu5oiQ57up5pWw57uECiAgICAgICAgICAgIGxldCBzY29yZXMgPSBbXQogICAgICAgICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbjIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICBxdWVzdGlvbklkcy5wdXNoKGl0ZW0ucXVlc3Rpb25JZCkKICAgICAgICAgICAgICBzY29yZXMucHVzaChpdGVtLnNjb3JlKQogICAgICAgICAgICB9KQogICAgICAgICAgICBleGFtLnF1ZXN0aW9uSWRzID0gcXVlc3Rpb25JZHMuam9pbignLCcpCiAgICAgICAgICAgIGV4YW0uc2NvcmVzID0gc2NvcmVzLmpvaW4oJywnKQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc29sZS5sb2coZXhhbSkKCiAgICAgICAgICAgIGV4YW0uc3RhcnRUaW1lID0gdGhpcy5jaGFuZ2VEYXRlKGV4YW0uc3RhcnRUaW1lKQogICAgICAgICAgICBleGFtLmVuZFRpbWUgPSB0aGlzLmNoYW5nZURhdGUoZXhhbS5lbmRUaW1lKQoKICAgICAgICAgICAgY29uc29sZS5sb2coZXhhbSkKICAgICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KHRoaXMuQVBJLmFkZEV4YW1CeVF1ZXN0aW9uTGlzdCwgZXhhbSkudGhlbigocmVzcCkgPT4gewogICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuY29kZSA9PT0gMjAwKSB0aGlzLiRyb3V0ZXIucHVzaCgnL2V4YW1NYW5hZ2UnKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35qOA5p+l6ICD6K+V6KeE5YiZ6K6+572u5piv5ZCm5a6M5pW0JykKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35qOA5p+l6ICD6K+V6KeE5YiZ6K6+572u5piv5ZCm5a6M5pW0JykKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL+iuoeeul+aAu+WIhgogICAgc3VtVG90YWxTY29yZSAoKSB7CiAgICAgIGlmICh0aGlzLm1ha2VNb2RlbCA9PT0gMikgewogICAgICAgIGxldCBzY29yZSA9IDAKICAgICAgICB0aGlzLmFkZEV4YW1RdWVzdGlvbjIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIHNjb3JlICs9IHBhcnNlSW50KGl0ZW0uc2NvcmUpCiAgICAgICAgfSkKICAgICAgICByZXR1cm4gc2NvcmUKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["AddExam.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddExam.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header height=\"220\">\r\n      <el-steps :active=\"curStep\" simple>\r\n        <el-step title=\"组卷配置\" icon=\"el-icon-edit\"></el-step>\r\n        <el-step title=\"考试权限\" icon=\"el-icon-lock\"></el-step>\r\n        <el-step title=\"补充配置\" icon=\"el-icon-setting\"></el-step>\r\n      </el-steps>\r\n\r\n      <el-button style=\"margin-top: 10px\" v-show=\"curStep !== 1\" @click=\"curStep--\">上一步</el-button>\r\n\r\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep !== 3\" type=\"primary\" @click=\"curStep++\">下一步\r\n      </el-button>\r\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep === 3\" type=\"primary\" @click=\"addExam\">提交\r\n      </el-button>\r\n    </el-header>\r\n\r\n    <el-main>\r\n      <!--设置试题信息-->\r\n      <el-card v-show=\"curStep === 1\">\r\n\r\n        <el-radio-group v-model=\"makeModel\"\r\n                        @change=\"makeModelChange\"\r\n                        size=\"medium\">\r\n          <el-radio :label=\"1\" border>题库组卷</el-radio>\r\n          <el-radio :label=\"2\" border>自由组卷</el-radio>\r\n        </el-radio-group>\r\n\r\n        <span style=\"float: right;color: red;font-weight: bold\" v-show=\"makeModel === 2\">\r\n          {{ '试卷总分：' + sumTotalScore }}</span>\r\n\r\n        <!-- 题库组卷内容-->\r\n        <div v-show=\"makeModel === 1\" style=\"margin-top: 25px\">\r\n          <el-button icon=\"el-icon-plus\" size=\"mini\" @click=\"addBank\">添加题库</el-button>\r\n\r\n          <!--存放题目的信息-->\r\n          <el-table :data=\"addExamQuestion\" border style=\"margin-top: 10px\">\r\n\r\n            <el-table-column label=\"题库\" width=\"155\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-select clearable v-model=\"scope.row.bankName\" placeholder=\"请选择题库\"\r\n                           style=\"margin-left: 5px\">\r\n                  <el-option\r\n                    v-for=\"item in allBank\"\r\n                    :key=\"item.questionBank.bankId\"\r\n                    :label=\"item.questionBank.bankName\"\r\n                    :value=\"item.questionBank.bankName\">\r\n                  </el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"单选题分数\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.singleScore\" style=\"margin-left: 5px\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"多选题分数\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.multipleScore\" style=\"margin-left: 5px\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"判断题分数\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.judgeScore\" style=\"margin-left: 5px\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"简答题分数\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.shortScore\" style=\"margin-left: 5px\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"80\" align=\"center\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"delBank(scope.row.bankId)\"></el-button>\r\n              </template>\r\n            </el-table-column>\r\n\r\n          </el-table>\r\n        </div>\r\n\r\n        <!-- 自由组卷内容-->\r\n        <div v-show=\"makeModel === 2\">\r\n          <el-card>\r\n            <h1>题目列表</h1>\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"showAddDialog\">添加试题</el-button>\r\n\r\n            <el-table :data=\"addExamQuestion2\" border style=\"margin-top: 10px\">\r\n\r\n              <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                width=\"50\">\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"题目内容\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  {{ scope.row.questionContent }}\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column align=\"center\"\r\n                               label=\"题目类型\">\r\n                <template slot-scope=\"scope\">\r\n                  <span v-if=\"scope.row.questionType === 1\">单选题</span>\r\n                  <span v-else-if=\"scope.row.questionType === 2\">多选题</span>\r\n                  <span v-else-if=\"scope.row.questionType === 3\">判断题</span>\r\n                  <span v-else-if=\"scope.row.questionType === 4\">简答题</span>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"单题分数\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.score\" style=\"margin-left: 5px\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"操作\" width=\"80\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n                             @click=\"delQuestion(scope.row.questionId)\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n\r\n          </el-card>\r\n        </div>\r\n      </el-card>\r\n\r\n      <!--设置考试权限-->\r\n      <el-card v-show=\"curStep === 2\">\r\n        <el-radio-group v-model=\"examAuthority\" size=\"medium\">\r\n          <el-radio :label=\"1\" border>完全公开</el-radio>\r\n          <el-radio :label=\"2\" border>需要密码</el-radio>\r\n        </el-radio-group>\r\n\r\n        <el-alert style=\"margin-top: 15px\"\r\n                  :title=\"examAuthority === 1? '开放的，任何人都可以进行考试！' : '半开放的，知道密码的人员才可以考试！'\"\r\n                  type=\"warning\">\r\n        </el-alert>\r\n\r\n        <el-input style=\"margin-top: 15px;width: 20%\" v-model=\"examPassword\" v-show=\"examAuthority === 2\"\r\n                  type=\"password\" show-password placeholder=\"输入考试密码\"></el-input>\r\n      </el-card>\r\n\r\n      <!--设置考试信息-->\r\n      <el-card v-show=\"curStep === 3\">\r\n\r\n        <el-form :model=\"examInfo\" :rules=\"examInfoRules\" ref=\"examInfoForm\" label-width=\"100px\">\r\n\r\n          <el-form-item label=\"考试名称\" prop=\"examName\">\r\n            <el-input v-model=\"examInfo.examName\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"考试描述\" prop=\"examDesc\">\r\n            <el-input v-model=\"examInfo.examDesc\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item v-show=\"makeModel === 2\" label=\"总分数\" prop=\"totalScore\">\r\n            <el-input-number :value=\"sumTotalScore\" :disabled=\"true\"></el-input-number>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"及格分数\" prop=\"passScore\">\r\n            <el-input-number v-model=\"examInfo.passScore\" :min=\"1\"></el-input-number>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"考试时长(分钟)\" prop=\"examDuration\">\r\n            <el-input-number v-model=\"examInfo.examDuration\" :min=\"1\"></el-input-number>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"考试开始时间\" prop=\"startTime\">\r\n            <el-date-picker style=\"margin-left: 5px\"\r\n                            v-model=\"examInfo.startTime\"\r\n                            type=\"date\" placeholder=\"考试开始时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"考试结束时间\" prop=\"endTime\">\r\n            <el-date-picker style=\"margin-left: 5px\"\r\n                            v-model=\"examInfo.endTime\"\r\n                            type=\"date\" placeholder=\"考试结束时间\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n\r\n      </el-card>\r\n    </el-main>\r\n\r\n    <el-dialog title=\"添加题目\" :visible.sync=\"showQuestionDialog\" width=\"80%\" center>\r\n      <el-row>\r\n        <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.questionType\" placeholder=\"请选择题目类型\">\r\n          <el-option\r\n            v-for=\"item in questionType\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n\r\n        <el-select @change=\"bankChange\" clearable v-model=\"queryInfo.questionBank\" placeholder=\"请选择题库\"\r\n                   style=\"margin-left: 5px\">\r\n          <el-option\r\n            v-for=\"item in allBank\"\r\n            :key=\"item.questionBank.bankId\"\r\n            :label=\"item.questionBank.bankName\"\r\n            :value=\"item.questionBank.bankName\">\r\n          </el-option>\r\n        </el-select>\r\n\r\n        <el-input v-model=\"queryInfo.questionContent\" @blur=\"getQuestionInfo\" placeholder=\"题目内容\"\r\n                  style=\"margin-left: 5px;width: 220px\"\r\n                  prefix-icon=\"el-icon-search\"></el-input>\r\n        <el-button type=\"primary\" @click=\"addQuToFree\" style=\"float: right\">确认{{ selectedTable.length }}项</el-button>\r\n      </el-row>\r\n\r\n      <el-table\r\n        ref=\"questionTable\"\r\n        highlight-current-row\r\n        v-loading=\"loading\"\r\n        :border=\"true\"\r\n        :data=\"questionInfo\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%;margin-top: 25px;\" @selection-change=\"handleTableSectionChange\">\r\n\r\n        <el-table-column align=\"center\"\r\n                         type=\"selection\"\r\n                         width=\"55\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"题目类型\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.quType === 1\">单选题</span>\r\n            <span v-else-if=\"scope.row.quType === 2\">多选题</span>\r\n            <span v-else-if=\"scope.row.quType === 3\">判断题</span>\r\n            <span v-else-if=\"scope.row.quType === 4\">简答题</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"题目内容\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"quContent\">{{ scope.row.quContent }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"难度\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.level === 1\">简单</span>\r\n            <span v-if=\"scope.row.level === 2\">中等</span>\r\n            <span v-if=\"scope.row.level === 3\">困难</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         prop=\"quBankName\"\r\n                         label=\"所属题库\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         prop=\"createPerson\"\r\n                         label=\"创建人\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"创建时间\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.createTime }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n\r\n      </el-table>\r\n      <!--分页-->\r\n      <el-pagination style=\"margin-top: 25px\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"queryInfo.pageNo\"\r\n                     :page-sizes=\"[10, 20, 30, 50]\"\r\n                     :page-size=\"queryInfo.pageSize\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n                     :total=\"total\">\r\n      </el-pagination>\r\n    </el-dialog>\r\n\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'AddExam',\r\n    data () {\r\n      return {\r\n        //查询题目的参数\r\n        queryInfo: {\r\n          //题目类型下拉款所选的内容\r\n          'questionType': '',\r\n          'questionBank': '',\r\n          'questionContent': '',\r\n          'pageNo': 1,\r\n          'pageSize': 10\r\n        },\r\n        //题目类型\r\n        questionType: [\r\n          {\r\n            id: 1,\r\n            name: '单选题',\r\n          },\r\n          {\r\n            id: 2,\r\n            name: '多选题',\r\n          },\r\n          {\r\n            id: 3,\r\n            name: '判断题',\r\n          },\r\n          {\r\n            id: 4,\r\n            name: '简答题',\r\n          },\r\n        ],\r\n        //当前的步骤\r\n        curStep: 1,\r\n        //组卷模式\r\n        makeModel: 1,\r\n        //添加考试题目信息(makeModel = 1的时候)\r\n        addExamQuestion: [],\r\n        //所有题库信息\r\n        allBank: [],\r\n        //添加考试题目信息(makeModel = 2 的时候)\r\n        addExamQuestion2: [],\r\n        //所有题目的对话框\r\n        showQuestionDialog: false,\r\n        //对话框中题目表格的加载\r\n        loading: true,\r\n        //所有题目的信息\r\n        questionInfo: [],\r\n        //所有题目的对话框中表格被选中\r\n        selectedTable: [],\r\n        //所有题目总数\r\n        total: 0,\r\n        //考试权限(1公开, 2密码)\r\n        examAuthority: 1,\r\n        //考试密码(权限为2时的密码)\r\n        examPassword: '',\r\n        //补充的考试信息\r\n        examInfo: {\r\n          'examId': '',\r\n          'examDesc': '',\r\n          'passScore': 0,\r\n          'examDuration': '',\r\n          'startTime': '',\r\n          'endTime': ''\r\n        },\r\n        //补充的考试信息的表单验证\r\n        examInfoRules: {\r\n          examName: [\r\n            {\r\n              required: true,\r\n              message: '请输入考试名称',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          passScore: [\r\n            {\r\n              required: true,\r\n              message: '请输入通过分数',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          examDuration: [\r\n            {\r\n              required: true,\r\n              message: '请输入考试时长',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n        },\r\n      }\r\n    },\r\n    props: ['tagInfo'],\r\n    created () {\r\n      //一创建就改变头部的面包屑\r\n      this.$emit('giveChildChangeBreakInfo', '添加考试', '添加考试')\r\n      this.createTagsInParent()\r\n      this.getBankInfo()\r\n    },\r\n    methods: {\r\n      //向父组件中添加头部的tags标签\r\n      createTagsInParent () {\r\n        let flag = false\r\n        this.tagInfo.map(item => {\r\n          //如果tags全部符合\r\n          if (item.name === '添加考试' && item.url === this.$route.path) {\r\n            flag = true\r\n          } else if (item.name === '添加考试' && item.url !== this.$route.path) {\r\n            this.$emit('updateTagInfo', '添加考试', this.$route.path)\r\n            flag = true\r\n          }\r\n        })\r\n        if (!flag) this.$emit('giveChildAddTag', '添加考试', this.$route.path)\r\n      },\r\n      //获取所有的题库信息\r\n      getBankInfo () {\r\n        this.$http.get(this.API.getBankHaveQuestionSumByType, {\r\n          params: {\r\n            'pageNo': 1,\r\n            'pageSize': 9999\r\n          }\r\n        }).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.allBank = resp.data.data.bankHaveQuestionSums\r\n          } else {\r\n            this.$notify({\r\n              title: 'Tips',\r\n              message: resp.data.message,\r\n              type: 'error',\r\n              duration: 2000\r\n            })\r\n          }\r\n        })\r\n      },\r\n      //删除当前需要去除的题库\r\n      delBank (bankId) {\r\n        this.addExamQuestion.forEach((item, index) => {\r\n          if (item.bankId === bankId) this.addExamQuestion.splice(index, 1)\r\n        })\r\n      },\r\n      //添加题库组卷中的题库\r\n      addBank () {\r\n        this.addExamQuestion.push(\r\n          {\r\n            'bankName': '',\r\n            'singleScore': 1,\r\n            'multipleScore': 1,\r\n            'judgeScore': 1,\r\n            'shortScore': 1\r\n          })\r\n      },\r\n      //自由组卷时添加试题\r\n      showAddDialog () {\r\n        this.showQuestionDialog = true\r\n        this.getQuestionInfo()\r\n      },\r\n      //自由组卷时删除试题\r\n      delQuestion (questionId) {\r\n        this.addExamQuestion2.forEach((item, index) => {\r\n          if (item.questionId === questionId) this.addExamQuestion2.splice(index, 1)\r\n        })\r\n      },\r\n      //题目类型变化\r\n      typeChange (val) {\r\n        this.queryInfo.questionType = val\r\n        this.getQuestionInfo()\r\n      },\r\n      //题库变化\r\n      bankChange (val) {\r\n        this.queryInfo.questionBank = val\r\n        this.getQuestionInfo()\r\n      },\r\n      //获取题目信息\r\n      getQuestionInfo () {\r\n        this.$http.get(this.API.getQuestion, { params: this.queryInfo }).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.questionInfo = resp.data.data.questions;\r\n            this.total = resp.data.data.total;\r\n            this.loading = false\r\n          } else {\r\n            this.$notify({\r\n              title: 'Tips',\r\n              message: '获取题库信息失败',\r\n              type: 'error',\r\n              duration: 2000\r\n            })\r\n          }\r\n        })\r\n      },\r\n      //处理表格被选中\r\n      handleTableSectionChange (val) {\r\n        this.selectedTable = val\r\n      },\r\n      //分页页面大小改变\r\n      handleSizeChange (val) {\r\n        this.queryInfo.pageSize = val\r\n        this.getQuestionInfo()\r\n      },\r\n      //分页插件的页数\r\n      handleCurrentChange (val) {\r\n        this.queryInfo.pageNo = val\r\n        this.getQuestionInfo()\r\n      },\r\n      //自由组卷中选中的题目添加进去\r\n      addQuToFree () {\r\n        this.selectedTable.forEach(item => {\r\n          if (!this.addExamQuestion2.some(i2 => {\r\n            return i2.questionId === item.id\r\n          })) {//不存在有当前题目\r\n            this.addExamQuestion2.push({\r\n              'questionId': item.id,\r\n              'questionContent': item.quContent,\r\n              'questionType': item.quType,\r\n              'score': 1\r\n            })\r\n          }\r\n        })\r\n        this.showQuestionDialog = false\r\n      },\r\n      //组卷模式变化\r\n      makeModelChange () {\r\n        this.$confirm('此操作将丢失当前组卷数据, 是否继续?', 'Tips', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.makeModel === 1 ? this.addExamQuestion2 = [] : this.addExamQuestion = []\r\n        }).catch(() => {\r\n        })\r\n      },\r\n      //时间格式转换\r\n      changeDate(val) {\r\n        console.log(val)\r\n        var date = new Date(val)\r\n        var y = date.getFullYear()\r\n        var m = date.getMonth() + 1\r\n        m = m < 10 ? ('0' + m) : m\r\n        var d = date.getDate()\r\n        d = d < 10 ? ('0' + d) : d\r\n        const time =  y + '-' + m + '-' + d;\r\n        return time\r\n      },\r\n      //添加考试\r\n      addExam () {\r\n        this.$refs['examInfoForm'].validate((valid) => {\r\n          if (valid && (this.addExamQuestion.length !== 0 || this.addExamQuestion2.length !== 0)) {\r\n            //构造数据对象(考试信息)\r\n            let exam = this.examInfo\r\n            exam.totalScore = this.sumTotalScore\r\n            exam.status = 1\r\n            //权限id设置\r\n            exam.type = this.examAuthority\r\n            if (this.examAuthority === 2) {//考试密码\r\n              if (this.examPassword === '') {// 当前用户选择了需要密码权限,但是密码为空\r\n                this.$message.error('当前权限为需要密码,但是密码为空');\r\n                return false;\r\n              }\r\n              exam.password = this.examPassword\r\n            }\r\n            //题库组卷模式\r\n            if (this.makeModel === 1 && !this.addExamQuestion.some(item => item.bankId === '')) {\r\n              console.log(this.addExamQuestion)\r\n              let bankNames = []\r\n              this.addExamQuestion.forEach(item => bankNames.push(item.bankName))\r\n              exam.bankNames = bankNames.join(',')\r\n              exam.singleScore = this.addExamQuestion[0].singleScore\r\n              exam.multipleScore = this.addExamQuestion[0].multipleScore\r\n              exam.judgeScore = this.addExamQuestion[0].judgeScore\r\n              exam.shortScore = this.addExamQuestion[0].shortScore\r\n              this.$http.post(this.API.addExamByBank, exam).then((resp) => {\r\n                if (resp.data.code === 200) this.$router.push('/examManage')\r\n              })\r\n            } else if (this.makeModel === 2) {//自由组卷模式\r\n              //题目id数组\r\n              let questionIds = []\r\n              //题目成绩数组\r\n              let scores = []\r\n              this.addExamQuestion2.forEach(item => {\r\n                questionIds.push(item.questionId)\r\n                scores.push(item.score)\r\n              })\r\n              exam.questionIds = questionIds.join(',')\r\n              exam.scores = scores.join(',')\r\n              \r\n              console.log(exam)\r\n\r\n              exam.startTime = this.changeDate(exam.startTime)\r\n              exam.endTime = this.changeDate(exam.endTime)\r\n\r\n              console.log(exam)\r\n              this.$http.post(this.API.addExamByQuestionList, exam).then((resp) => {\r\n                if (resp.data.code === 200) this.$router.push('/examManage')\r\n              })\r\n            } else {\r\n              this.$message.error('请检查考试规则设置是否完整')\r\n            }\r\n          } else {\r\n            this.$message.error('请检查考试规则设置是否完整')\r\n            return false\r\n          }\r\n        })\r\n      }\r\n    },\r\n    computed: {\r\n      //计算总分\r\n      sumTotalScore () {\r\n        if (this.makeModel === 2) {\r\n          let score = 0\r\n          this.addExamQuestion2.forEach(item => {\r\n            score += parseInt(item.score)\r\n          })\r\n          return score\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .el-container {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .el-container {\r\n    animation: leftMoveIn .7s ease-in;\r\n  }\r\n\r\n  @keyframes leftMoveIn {\r\n    0% {\r\n      transform: translateX(-100%);\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      transform: translateX(0%);\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n\r\n  /deep/ .el-table thead {\r\n    color: rgb(85, 85, 85) !important;\r\n  }\r\n\r\n  /*表格的头部样式*/\r\n  /deep/ .has-gutter tr th {\r\n    background: rgb(242, 243, 244);\r\n    color: rgb(85, 85, 85);\r\n    font-weight: bold;\r\n    line-height: 32px;\r\n  }\r\n\r\n  .el-table {\r\n    box-shadow: 0 0 1px 1px gainsboro;\r\n  }\r\n</style>\r\n"]}]}