{"remainingRequest":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\exam_system\\exam-vue\\src\\components\\MarkManage.vue?vue&type=style&index=0&id=1721f87c&scoped=true&lang=scss&","dependencies":[{"path":"D:\\code\\exam_system\\exam-vue\\src\\components\\MarkManage.vue","mtime":1648014851567},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\code\\exam_system\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1jb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQoKLmVsLWlucHV0IHsKICB3aWR0aDogMjAwcHg7Cn0KCi5lbC1jb250YWluZXIgewogIGFuaW1hdGlvbjogbGVmdE1vdmVJbiAuN3MgZWFzZS1pbjsKfQoKQGtleWZyYW1lcyBsZWZ0TW92ZUluIHsKICAwJSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOwogICAgb3BhY2l0eTogMDsKICB9CiAgMTAwJSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCUpOwogICAgb3BhY2l0eTogMTsKICB9Cn0KCi5yb2xlIHsKICBjb2xvcjogIzYwNjI2NjsKfQoKL2RlZXAvIC5lbC10YWJsZSB0aGVhZCB7CiAgY29sb3I6IHJnYig4NSwgODUsIDg1KSAhaW1wb3J0YW50Owp9CgovKuihqOagvOeahOWktOmDqOagt+W8jyovCi9kZWVwLyAuaGFzLWd1dHRlciB0ciB0aCB7CiAgYmFja2dyb3VuZDogcmdiKDI0MiwgMjQzLCAyNDQpOwogIGNvbG9yOiByZ2IoODUsIDg1LCA4NSk7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgbGluZS1oZWlnaHQ6IDMycHg7Cn0KCi5lbC10YWJsZSB7CiAgYm94LXNoYWRvdzogMCAwIDFweCAxcHggZ2FpbnNib3JvOwp9Cg=="},{"version":3,"sources":["MarkManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"MarkManage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header>\r\n      <!--操作的下拉框-->\r\n      <el-select @change=\"operation\" clearable v-model=\"queryInfo.examId\"\r\n                 placeholder=\"请选择考试\" style=\"margin-bottom: 25px;\">\r\n        <el-option v-for=\"(item,index) in allExamInfo\" :key=\"index\" :label=\"item.examName\" :value=\"parseInt(item.examId)\">\r\n          <span style=\"float: left\">{{ item.examName }}</span>\r\n        </el-option>\r\n      </el-select>\r\n\r\n    </el-header>\r\n\r\n    <el-main>\r\n      <el-table\r\n        ref=\"questionTable\"\r\n        highlight-current-row\r\n        v-loading=\"loading\"\r\n        :border=\"true\"\r\n        :data=\"examRecords\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%;\">\r\n\r\n        <el-table-column align=\"center\" prop=\"examName\" label=\"考试名称\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" prop=\"examTime\" label=\"参考时间\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" prop=\"trueName\" label=\"参考人\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" prop=\"logicScore\" label=\"逻辑题得分\"></el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"是否批阅\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.totalScore === null ? '未批阅' : '已批阅' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"总分\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.totalScore === null ? 0 : scope.row.totalScore }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- <el-button :type=\"scope.row.totalScore === null ? 'primary' : 'warning'\" icon=\"el-icon-view\" size=\"small\" :disabled=\"scope.row.totalScore !== null\"\r\n                       @click=\"$router.push('/markExam/' + scope.row.recordId)\">\r\n              {{ scope.row.totalScore === null ? '批阅' : '已批阅'}}\r\n            </el-button> -->\r\n            <el-button :type=\"scope.row.totalScore === null ? 'primary' : 'warning'\" icon=\"el-icon-view\" size=\"small\" :disabled=\"scope.row.totalScore !== null\"\r\n                       @click=\"$router.push('/markExam/' + scope.row.recordId)\">\r\n              {{ scope.row.totalScore === null ? '批阅' : '已批阅'}}\r\n            </el-button>\r\n            \r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"查看\">\r\n          <template slot-scope=\"scope\">\r\n              <el-button :type=\"scope.row.totalScore === null ? 'warning' : 'primary'\" icon=\"el-icon-view\" size=\"small\" :disabled=\"scope.row.totalScore == null\"\r\n                       @click=\"$router.push('/reviewMarkExam/' + scope.row.recordId)\">\r\n              {{ scope.row.totalScore === null ? '未批阅' : '查看'}} <!--null ? '批阅' : '已批阅'}}-->\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n      </el-table>\r\n\r\n      <!--分页-->\r\n      <el-pagination style=\"margin-top: 25px\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"queryInfo.pageNo\"\r\n                     :page-sizes=\"[10, 20, 30, 50]\"\r\n                     :page-size=\"queryInfo.pageSize\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n                     :total=\"total\">\r\n      </el-pagination>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'MarkManage',\r\n    data () {\r\n      return {\r\n        queryInfo: {\r\n          pageNo: 1,\r\n          pageSize: 10\r\n        },\r\n        //考试记录\r\n        examRecords: [],\r\n        //表格数据加载\r\n        loading: true,\r\n        //所有考试信息\r\n        allExamInfo: [],\r\n        //总数\r\n        total: 0\r\n      }\r\n    },\r\n    created () {\r\n      this.getExamRecords()\r\n      this.getAllExamInfo()\r\n    },\r\n    methods: {\r\n      async getExamRecords () {\r\n        await this.$http.get(this.API.getExamRecord, { params: this.queryInfo }).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.getAllExamInfo()\r\n            resp.data.data.examRecords.forEach(item => {\r\n              this.$http.get(this.API.getUserById + '/' + item.userId).then((r) => {\r\n                item.trueName = r.data.data.trueName\r\n              })\r\n            })\r\n            this.examRecords = resp.data.data.examRecords\r\n            this.total = resp.data.data.total\r\n            this.loading = false\r\n          }\r\n        })\r\n      },\r\n      getAllExamInfo () {\r\n        this.$http.get(this.API.allExamInfo).then((resp) => {\r\n          if (resp.data.code === 200) {\r\n            this.allExamInfo = resp.data.data\r\n            this.setExamName()\r\n          }\r\n        })\r\n      },\r\n      operation (v) {\r\n        if (v === '') this.queryInfo.examId = null\r\n        this.getExamRecords()\r\n      },\r\n      setExamName () {\r\n        this.examRecords.forEach(item => {\r\n          this.allExamInfo.forEach(i2 => {\r\n            if (item.examId === i2.examId) {\r\n              this.$set(item, 'examName', i2.examName)\r\n            }\r\n          })\r\n        })\r\n      },\r\n      //分页页面大小改变\r\n      handleSizeChange (val) {\r\n        this.queryInfo.pageSize = val\r\n        this.getExamRecords()\r\n      },\r\n      //分页插件的页数\r\n      handleCurrentChange (val) {\r\n        this.queryInfo.pageNo = val\r\n        this.getExamRecords()\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .el-container {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .el-input {\r\n    width: 200px;\r\n  }\r\n\r\n  .el-container {\r\n    animation: leftMoveIn .7s ease-in;\r\n  }\r\n\r\n  @keyframes leftMoveIn {\r\n    0% {\r\n      transform: translateX(-100%);\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      transform: translateX(0%);\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  .role {\r\n    color: #606266;\r\n  }\r\n\r\n  /deep/ .el-table thead {\r\n    color: rgb(85, 85, 85) !important;\r\n  }\r\n\r\n  /*表格的头部样式*/\r\n  /deep/ .has-gutter tr th {\r\n    background: rgb(242, 243, 244);\r\n    color: rgb(85, 85, 85);\r\n    font-weight: bold;\r\n    line-height: 32px;\r\n  }\r\n\r\n  .el-table {\r\n    box-shadow: 0 0 1px 1px gainsboro;\r\n  }\r\n</style>\r\n"]}]}